# RMS-Shopify Integration - Cron Jobs
# 
# Estas tareas programadas proporcionan redundancia y monitoreo adicional
# al motor de sincronización automática interno de la aplicación

# Verificar salud del servicio cada 5 minutos
*/5 * * * * /opt/rms-shopify-integration/deployment/cron/rms-sync-monitor.sh

# Backup de logs diario a las 2:30 AM
30 2 * * * /opt/rms-shopify-integration/deployment/cron/backup-logs.sh

# Verificación de conexión RMS cada 15 minutos durante horas pico (8 AM - 8 PM)
*/15 8-20 * * * /opt/rms-shopify-integration/deployment/cron/check-rms-connection.sh

# Sincronización forzada nocturna de emergencia a las 3:00 AM
0 3 * * * curl -X POST http://localhost:8080/api/v1/sync/monitor/force-full-sync

# Limpieza de logs antiguos (más de 30 días) - Domingos a las 1:00 AM
0 1 * * 0 find /var/log/rms-shopify-integration -name "*.log" -mtime +30 -delete

# Verificación de disk space - cada hora
0 * * * * /opt/rms-shopify-integration/deployment/cron/check-disk-space.sh

# Reinicio programado del servicio - Domingos a las 4:00 AM (mantenimiento)
0 4 * * 0 systemctl restart rms-shopify-integration

# Monitor de performance - cada 30 minutos durante horas de trabajo
*/30 8-18 * * 1-5 /opt/rms-shopify-integration/deployment/cron/performance-monitor.sh